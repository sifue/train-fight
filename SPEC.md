# Train Fight - 仕様書 v0.1

最終更新: 2026-02-27

## 1. 目的
満員電車のストレスをテーマにした、ドット絵横スクロール・ベルトスクロールアクションをブラウザで提供する。

## 2. 対象プラットフォーム
- Webブラウザ（PC優先）
- 静的ホスティング（GitHub Pages）

## 3. ゲーム概要
- プレイヤーは先頭車両へ進み、非常ブレーキを作動してクリア
- 敵は「ストレスの擬人化」モブ（属性固定の差別的表現なし）
- 女性/子どもは敵として出さない

## 4. コア要件
### 4.1 操作
- 移動: ← →
- ジャンプ: ↑
- 攻撃: Z
- 強攻撃: X
- ダッシュ: C
- 非常ブレーキ: E
- リトライ: R（ゲームオーバー/クリア時）

### 4.2 ゲームループ
1. 移動・戦闘
2. スコア加算（HIT/撃破/クリアボーナス）
3. 暴走ゲージ管理
4. 先頭車両で非常ブレーキ成功判定

### 4.3 サウンド
- BGMループ（ON/OFF・音量調整）
- SE（軽攻撃/強攻撃/被弾/撃破/UI）
- BGM/SE独立音量スライダー

### 4.4 UI
- 視認性の高いHUD
- 操作説明パネル
- ミッション表示
- リザルト表示（Score/Hi-Score）

## 5. アート要件
- 主人公: 女子高生ドット絵
- アニメーション: 待機/歩行/攻撃/被弾/勝利
- 敵: ドット絵モブ 3系統以上（通常/突進/重量）

## 6. 技術方針
- TypeScript + Phaser 3
- ES Modules
- OOP設計（責務分割）

## 7. 品質要件
- 60fps目標（中位PC）
- 主要操作の入力遅延体感最小化
- 例外時にゲーム停止しないフェイルセーフ

## 8. マイルストーン
- M1: TS移行 + OOP基盤
- M2: ドット絵キャラ/アニメ
- M3: サウンド刷新 + 音量UI
- M4: リトライ導線 + 中ボス
- M5: バランス調整 + polish
